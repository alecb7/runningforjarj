import{S as J,i as K,s as O,e as Q,t as w,k as v,w as b,c as V,a as W,h,d as m,m as T,x as k,b as E,g as p,Y as X,y as I,j as S,q as _,o as g,B as D,l as L,n as A,a4 as Z,a5 as y,p as C}from"../../chunks/index-f7a6ba17.js";import{D as x,B as ee,R as G,C as B,g as N}from"../../chunks/sectionStyles-ff9655eb.js";import{g as R}from"../../chunks/colours-f9de8a07.js";import{B as te}from"../../chunks/Button-a11b11dc.js";import{L as se}from"../../chunks/Ripple-c9d7f540.js";import{h as j}from"../../chunks/moment-9ea79f3d.js";import"../../chunks/index-b107b255.js";import"../../chunks/prefixFilter-de33cb53.js";function H(f,t,n){const e=f.slice();e[6]=t[n];const s=e[2](e[6].sectionID);return e[7]=s,e}function M(f){let t=[],n=new Map,e,s,l=f[1];const o=a=>a[6].sectionID;for(let a=0;a<l.length;a+=1){let r=H(f,l,a),u=o(r);n.set(u,t[a]=Y(u,r))}return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=L()},l(a){for(let r=0;r<t.length;r+=1)t[r].l(a);e=L()},m(a,r){for(let u=0;u<t.length;u+=1)t[u].m(a,r);p(a,e,r),s=!0},p(a,r){r&6&&(l=a[1],A(),t=Z(t,r,o,1,a,l,n,e.parentNode,y,Y,e,H),C())},i(a){if(!s){for(let r=0;r<l.length;r+=1)_(t[r]);s=!0}},o(a){for(let r=0;r<t.length;r+=1)g(t[r]);s=!1},d(a){for(let r=0;r<t.length;r+=1)t[r].d(a);a&&m(e)}}}function le(f){let t=f[6].startLocation+"",n,e,s=f[6].endLocation+"",l;return{c(){n=w(t),e=w(" to "),l=w(s)},l(o){n=h(o,t),e=h(o," to "),l=h(o,s)},m(o,a){p(o,n,a),p(o,e,a),p(o,l,a)},p(o,a){a&2&&t!==(t=o[6].startLocation+"")&&S(n,t),a&2&&s!==(s=o[6].endLocation+"")&&S(l,s)},d(o){o&&m(n),o&&m(e),o&&m(l)}}}function ne(f){let t=f[6].distance+"",n,e;return{c(){n=w(t),e=w("k")},l(s){n=h(s,t),e=h(s,"k")},m(s,l){p(s,n,l),p(s,e,l)},p(s,l){l&2&&t!==(t=s[6].distance+"")&&S(n,t)},d(s){s&&m(n),s&&m(e)}}}function re(f){let t=f[7].name+"",n;return{c(){n=w(t)},l(e){n=h(e,t)},m(e,s){p(e,n,s)},p(e,s){s&2&&t!==(t=e[7].name+"")&&S(n,t)},d(e){e&&m(n)}}}function fe(f){let t,n;return t=new se({props:{$$slots:{default:[re]},$$scope:{ctx:f}}}),{c(){b(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,s){I(t,e,s),n=!0},p(e,s){const l={};s&1026&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function oe(f){let t,n;return t=new te({props:{href:`/runner/${f[7].userID}`,class:"runners-button",style:"color: "+R(f[7].userID),$$slots:{default:[fe]},$$scope:{ctx:f}}}),{c(){b(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,s){I(t,e,s),n=!0},p(e,s){const l={};s&2&&(l.href=`/runner/${e[7].userID}`),s&2&&(l.style="color: "+R(e[7].userID)),s&1026&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function P(f){let t,n;return t=new B({props:{style:`${N(f[6],"start")}`,$$slots:{default:[ae]},$$scope:{ctx:f}}}),{c(){b(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,s){I(t,e,s),n=!0},p(e,s){const l={};s&2&&(l.style=`${N(e[6],"start")}`),s&1026&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function ae(f){let t=j(f[6].startTime).format("dddd: h:mmA")+"",n;return{c(){n=w(t)},l(e){n=h(e,t)},m(e,s){p(e,n,s)},p(e,s){s&2&&t!==(t=j(e[6].startTime).format("dddd: h:mmA")+"")&&S(n,t)},d(e){e&&m(n)}}}function U(f){let t,n;return t=new B({props:{style:`${N(f[6],"end")}`,$$slots:{default:[$e]},$$scope:{ctx:f}}}),{c(){b(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,s){I(t,e,s),n=!0},p(e,s){const l={};s&2&&(l.style=`${N(e[6],"end")}`),s&1026&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function $e(f){let t=j(f[6].endTime).format("dddd: h:mmA")+"",n;return{c(){n=w(t)},l(e){n=h(e,t)},m(e,s){p(e,n,s)},p(e,s){s&2&&t!==(t=j(e[6].endTime).format("dddd: h:mmA")+"")&&S(n,t)},d(e){e&&m(n)}}}function ue(f){let t,n,e,s,l,o,a,r,u;t=new B({props:{$$slots:{default:[le]},$$scope:{ctx:f}}}),e=new B({props:{numeric:!0,$$slots:{default:[ne]},$$scope:{ctx:f}}}),l=new B({props:{$$slots:{default:[oe]},$$scope:{ctx:f}}});let i=f[6].startTime&&P(f),c=f[6].endTime&&U(f);return{c(){b(t.$$.fragment),n=v(),b(e.$$.fragment),s=v(),b(l.$$.fragment),o=v(),i&&i.c(),a=v(),c&&c.c(),r=v()},l($){k(t.$$.fragment,$),n=T($),k(e.$$.fragment,$),s=T($),k(l.$$.fragment,$),o=T($),i&&i.l($),a=T($),c&&c.l($),r=T($)},m($,d){I(t,$,d),p($,n,d),I(e,$,d),p($,s,d),I(l,$,d),p($,o,d),i&&i.m($,d),p($,a,d),c&&c.m($,d),p($,r,d),u=!0},p($,d){const q={};d&1026&&(q.$$scope={dirty:d,ctx:$}),t.$set(q);const F={};d&1026&&(F.$$scope={dirty:d,ctx:$}),e.$set(F);const z={};d&1026&&(z.$$scope={dirty:d,ctx:$}),l.$set(z),$[6].startTime?i?(i.p($,d),d&2&&_(i,1)):(i=P($),i.c(),_(i,1),i.m(a.parentNode,a)):i&&(A(),g(i,1,1,()=>{i=null}),C()),$[6].endTime?c?(c.p($,d),d&2&&_(c,1)):(c=U($),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(A(),g(c,1,1,()=>{c=null}),C())},i($){u||(_(t.$$.fragment,$),_(e.$$.fragment,$),_(l.$$.fragment,$),_(i),_(c),u=!0)},o($){g(t.$$.fragment,$),g(e.$$.fragment,$),g(l.$$.fragment,$),g(i),g(c),u=!1},d($){D(t,$),$&&m(n),D(e,$),$&&m(s),D(l,$),$&&m(o),i&&i.d($),$&&m(a),c&&c.d($),$&&m(r)}}}function Y(f,t){let n,e,s;return e=new G({props:{$$slots:{default:[ue]},$$scope:{ctx:t}}}),{key:f,first:null,c(){n=L(),b(e.$$.fragment),this.h()},l(l){n=L(),k(e.$$.fragment,l),this.h()},h(){this.first=n},m(l,o){p(l,n,o),I(e,l,o),s=!0},p(l,o){t=l;const a={};o&1026&&(a.$$scope={dirty:o,ctx:t}),e.$set(a)},i(l){s||(_(e.$$.fragment,l),s=!0)},o(l){g(e.$$.fragment,l),s=!1},d(l){l&&m(n),D(e,l)}}}function ie(f){let t,n=f[1].length+"",e;return{c(){t=w("Sections: "),e=w(n)},l(s){t=h(s,"Sections: "),e=h(s,n)},m(s,l){p(s,t,l),p(s,e,l)},p(s,l){l&2&&n!==(n=s[1].length+"")&&S(e,n)},d(s){s&&m(t),s&&m(e)}}}function ce(f){let t=f[3](f[1]).distance.toFixed(2)+"",n,e;return{c(){n=w(t),e=w("k")},l(s){n=h(s,t),e=h(s,"k")},m(s,l){p(s,n,l),p(s,e,l)},p(s,l){l&2&&t!==(t=s[3](s[1]).distance.toFixed(2)+"")&&S(n,t)},d(s){s&&m(n),s&&m(e)}}}function me(f){let t,n,e,s;return t=new B({props:{$$slots:{default:[ie]},$$scope:{ctx:f}}}),e=new B({props:{numeric:!0,$$slots:{default:[ce]},$$scope:{ctx:f}}}),{c(){b(t.$$.fragment),n=v(),b(e.$$.fragment)},l(l){k(t.$$.fragment,l),n=T(l),k(e.$$.fragment,l)},m(l,o){I(t,l,o),p(l,n,o),I(e,l,o),s=!0},p(l,o){const a={};o&1026&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const r={};o&1026&&(r.$$scope={dirty:o,ctx:l}),e.$set(r)},i(l){s||(_(t.$$.fragment,l),_(e.$$.fragment,l),s=!0)},o(l){g(t.$$.fragment,l),g(e.$$.fragment,l),s=!1},d(l){D(t,l),l&&m(n),D(e,l)}}}function _e(f){let t,n,e,s=!!f[1]&&!!f[0]&&M(f);return n=new G({props:{$$slots:{default:[me]},$$scope:{ctx:f}}}),{c(){s&&s.c(),t=v(),b(n.$$.fragment)},l(l){s&&s.l(l),t=T(l),k(n.$$.fragment,l)},m(l,o){s&&s.m(l,o),p(l,t,o),I(n,l,o),e=!0},p(l,o){!!l[1]&&!!l[0]?s?(s.p(l,o),o&3&&_(s,1)):(s=M(l),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(A(),g(s,1,1,()=>{s=null}),C());const a={};o&1026&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){e||(_(s),_(n.$$.fragment,l),e=!0)},o(l){g(s),g(n.$$.fragment,l),e=!1},d(l){s&&s.d(l),l&&m(t),D(n,l)}}}function pe(f){let t,n;return t=new ee({props:{$$slots:{default:[_e]},$$scope:{ctx:f}}}),{c(){b(t.$$.fragment)},l(e){k(t.$$.fragment,e)},m(e,s){I(t,e,s),n=!0},p(e,s){const l={};s&1027&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function de(f){let t,n=f[0].name+"",e,s,l,o,a;return o=new x({props:{"table$aria-label":"Section list",$$slots:{default:[pe]},$$scope:{ctx:f}}}),{c(){t=Q("h1"),e=w(n),l=v(),b(o.$$.fragment),this.h()},l(r){t=V(r,"H1",{style:!0});var u=W(t);e=h(u,n),u.forEach(m),l=T(r),k(o.$$.fragment,r),this.h()},h(){E(t,"style",s=`color: ${R(f[0].userID)}`)},m(r,u){p(r,t,u),X(t,e),p(r,l,u),I(o,r,u),a=!0},p(r,[u]){(!a||u&1)&&n!==(n=r[0].name+"")&&S(e,n),(!a||u&1&&s!==(s=`color: ${R(r[0].userID)}`))&&E(t,"style",s);const i={};u&1027&&(i.$$scope={dirty:u,ctx:r}),o.$set(i)},i(r){a||(_(o.$$.fragment,r),a=!0)},o(r){g(o.$$.fragment,r),a=!1},d(r){r&&m(t),r&&m(l),D(o,r)}}}async function Te({params:f,fetch:t}){const n="https://heh5n0uiid.execute-api.eu-west-1.amazonaws.com",e=f.runnerId,s=await t(`${n}/users/${e}`),l=await s.json(),a=await(await t(`${n}/sections`)).json(),r=a.filter(u=>u.users.some(i=>i.userID===l.userID)).sort((u,i)=>parseInt(u.sectionID)-parseInt(i.sectionID));return{status:s.status,props:{user:l,userSections:r,sections:a}}}function ge(f,t,n){let{user:e}=t,{userSections:s}=t,{sections:l}=t;const o=r=>l.find(c=>c.sectionID===r).users.find(c=>c.userID!==e.userID),a=r=>r.reduce((u,i)=>({distance:u.distance+i.distance}));return f.$$set=r=>{"user"in r&&n(0,e=r.user),"userSections"in r&&n(1,s=r.userSections),"sections"in r&&n(4,l=r.sections)},[e,s,o,a,l]}class Be extends J{constructor(t){super();K(this,t,ge,de,O,{user:0,userSections:1,sections:4})}}export{Be as default,Te as load};
