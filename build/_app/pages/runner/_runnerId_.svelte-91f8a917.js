import{S as X,i as Z,s as y,e as F,t as D,k as S,w as k,c as K,a as P,h as v,d as c,m as T,x as b,b as N,g as m,Y as V,y as I,j as B,q as _,o as g,B as h,l as C,n as R,a4 as x,a5 as ee,p as j}from"../../chunks/index-f7a6ba17.js";import{D as te,B as se,R as W,C as A}from"../../chunks/index-c9dadb6f.js";import{I as le}from"../../chunks/index-c1c2c71b.js";import{g as E}from"../../chunks/colours-f9de8a07.js";import{B as ne}from"../../chunks/Button-a11b11dc.js";import{L as fe}from"../../chunks/Ripple-c9d7f540.js";import{h as q}from"../../chunks/moment-9ea79f3d.js";import"../../chunks/index-b107b255.js";import"../../chunks/prefixFilter-de33cb53.js";function Y($,t,l){const e=$.slice();e[6]=t[l];const s=e[2](e[6].sectionID);return e[7]=s,e}function G($){let t=[],l=new Map,e,s,n=$[1];const a=o=>o[6].sectionID;for(let o=0;o<n.length;o+=1){let f=Y($,n,o),r=a(f);l.set(r,t[o]=Q(r,f))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=C()},l(o){for(let f=0;f<t.length;f+=1)t[f].l(o);e=C()},m(o,f){for(let r=0;r<t.length;r+=1)t[r].m(o,f);m(o,e,f),s=!0},p(o,f){f&6&&(n=o[1],R(),t=x(t,f,a,1,o,n,l,e.parentNode,ee,Q,e,Y),j())},i(o){if(!s){for(let f=0;f<n.length;f+=1)_(t[f]);s=!0}},o(o){for(let f=0;f<t.length;f+=1)g(t[f]);s=!1},d(o){for(let f=0;f<t.length;f+=1)t[f].d(o);o&&c(e)}}}function re($){let t=$[6].startLocation+"",l,e,s=$[6].endLocation+"",n;return{c(){l=D(t),e=D(" to "),n=D(s)},l(a){l=v(a,t),e=v(a," to "),n=v(a,s)},m(a,o){m(a,l,o),m(a,e,o),m(a,n,o)},p(a,o){o&2&&t!==(t=a[6].startLocation+"")&&B(l,t),o&2&&s!==(s=a[6].endLocation+"")&&B(n,s)},d(a){a&&c(l),a&&c(e),a&&c(n)}}}function oe($){let t=$[6].distance+"",l,e;return{c(){l=D(t),e=D("k")},l(s){l=v(s,t),e=v(s,"k")},m(s,n){m(s,l,n),m(s,e,n)},p(s,n){n&2&&t!==(t=s[6].distance+"")&&B(l,t)},d(s){s&&c(l),s&&c(e)}}}function $e($){let t;return{c(){t=D("open_in_new")},l(l){t=v(l,"open_in_new")},m(l,e){m(l,t,e)},d(l){l&&c(t)}}}function ae($){let t,l,e,s,n,a,o;return a=new le({props:{class:"material-icons icon",$$slots:{default:[$e]},$$scope:{ctx:$}}}),{c(){t=F("a"),l=D("Komoot"),s=S(),n=F("span"),k(a.$$.fragment),this.h()},l(f){t=K(f,"A",{href:!0});var r=P(t);l=v(r,"Komoot"),r.forEach(c),s=T(f),n=K(f,"SPAN",{});var i=P(n);b(a.$$.fragment,i),i.forEach(c),this.h()},h(){N(t,"href",e=$[6].komootLink)},m(f,r){m(f,t,r),V(t,l),m(f,s,r),m(f,n,r),I(a,n,null),o=!0},p(f,r){(!o||r&2&&e!==(e=f[6].komootLink))&&N(t,"href",e);const i={};r&1024&&(i.$$scope={dirty:r,ctx:f}),a.$set(i)},i(f){o||(_(a.$$.fragment,f),o=!0)},o(f){g(a.$$.fragment,f),o=!1},d(f){f&&c(t),f&&c(s),f&&c(n),h(a)}}}function ue($){let t=$[7].name+"",l;return{c(){l=D(t)},l(e){l=v(e,t)},m(e,s){m(e,l,s)},p(e,s){s&2&&t!==(t=e[7].name+"")&&B(l,t)},d(e){e&&c(l)}}}function ie($){let t,l;return t=new fe({props:{$$slots:{default:[ue]},$$scope:{ctx:$}}}),{c(){k(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){I(t,e,s),l=!0},p(e,s){const n={};s&1026&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){h(t,e)}}}function ce($){let t,l;return t=new ne({props:{href:`/runner/${$[7].userID}`,class:"runners-button",style:"color: "+E($[7].userID),$$slots:{default:[ie]},$$scope:{ctx:$}}}),{c(){k(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){I(t,e,s),l=!0},p(e,s){const n={};s&2&&(n.href=`/runner/${e[7].userID}`),s&2&&(n.style="color: "+E(e[7].userID)),s&1026&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){h(t,e)}}}function J($){let t,l;return t=new A({props:{$$slots:{default:[me]},$$scope:{ctx:$}}}),{c(){k(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){I(t,e,s),l=!0},p(e,s){const n={};s&1026&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){h(t,e)}}}function me($){let t=q($[6].startTime).format("dddd: h:mmA")+"",l;return{c(){l=D(t)},l(e){l=v(e,t)},m(e,s){m(e,l,s)},p(e,s){s&2&&t!==(t=q(e[6].startTime).format("dddd: h:mmA")+"")&&B(l,t)},d(e){e&&c(l)}}}function O($){let t,l;return t=new A({props:{$$slots:{default:[_e]},$$scope:{ctx:$}}}),{c(){k(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){I(t,e,s),l=!0},p(e,s){const n={};s&1026&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){h(t,e)}}}function _e($){let t=q($[6].endTime).format("dddd: h:mmA")+"",l;return{c(){l=D(t)},l(e){l=v(e,t)},m(e,s){m(e,l,s)},p(e,s){s&2&&t!==(t=q(e[6].endTime).format("dddd: h:mmA")+"")&&B(l,t)},d(e){e&&c(l)}}}function pe($){let t,l,e,s,n,a,o,f,r,i,L;t=new A({props:{$$slots:{default:[re]},$$scope:{ctx:$}}}),e=new A({props:{numeric:!0,$$slots:{default:[oe]},$$scope:{ctx:$}}}),n=new A({props:{$$slots:{default:[ae]},$$scope:{ctx:$}}}),o=new A({props:{$$slots:{default:[ce]},$$scope:{ctx:$}}});let w=$[6].startTime&&J($),d=$[6].endTime&&O($);return{c(){k(t.$$.fragment),l=S(),k(e.$$.fragment),s=S(),k(n.$$.fragment),a=S(),k(o.$$.fragment),f=S(),w&&w.c(),r=S(),d&&d.c(),i=S()},l(u){b(t.$$.fragment,u),l=T(u),b(e.$$.fragment,u),s=T(u),b(n.$$.fragment,u),a=T(u),b(o.$$.fragment,u),f=T(u),w&&w.l(u),r=T(u),d&&d.l(u),i=T(u)},m(u,p){I(t,u,p),m(u,l,p),I(e,u,p),m(u,s,p),I(n,u,p),m(u,a,p),I(o,u,p),m(u,f,p),w&&w.m(u,p),m(u,r,p),d&&d.m(u,p),m(u,i,p),L=!0},p(u,p){const z={};p&1026&&(z.$$scope={dirty:p,ctx:u}),t.$set(z);const H={};p&1026&&(H.$$scope={dirty:p,ctx:u}),e.$set(H);const M={};p&1026&&(M.$$scope={dirty:p,ctx:u}),n.$set(M);const U={};p&1026&&(U.$$scope={dirty:p,ctx:u}),o.$set(U),u[6].startTime?w?(w.p(u,p),p&2&&_(w,1)):(w=J(u),w.c(),_(w,1),w.m(r.parentNode,r)):w&&(R(),g(w,1,1,()=>{w=null}),j()),u[6].endTime?d?(d.p(u,p),p&2&&_(d,1)):(d=O(u),d.c(),_(d,1),d.m(i.parentNode,i)):d&&(R(),g(d,1,1,()=>{d=null}),j())},i(u){L||(_(t.$$.fragment,u),_(e.$$.fragment,u),_(n.$$.fragment,u),_(o.$$.fragment,u),_(w),_(d),L=!0)},o(u){g(t.$$.fragment,u),g(e.$$.fragment,u),g(n.$$.fragment,u),g(o.$$.fragment,u),g(w),g(d),L=!1},d(u){h(t,u),u&&c(l),h(e,u),u&&c(s),h(n,u),u&&c(a),h(o,u),u&&c(f),w&&w.d(u),u&&c(r),d&&d.d(u),u&&c(i)}}}function Q($,t){let l,e,s;return e=new W({props:{$$slots:{default:[pe]},$$scope:{ctx:t}}}),{key:$,first:null,c(){l=C(),k(e.$$.fragment),this.h()},l(n){l=C(),b(e.$$.fragment,n),this.h()},h(){this.first=l},m(n,a){m(n,l,a),I(e,n,a),s=!0},p(n,a){t=n;const o={};a&1026&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(n){s||(_(e.$$.fragment,n),s=!0)},o(n){g(e.$$.fragment,n),s=!1},d(n){n&&c(l),h(e,n)}}}function ge($){let t;return{c(){t=D("Totals")},l(l){t=v(l,"Totals")},m(l,e){m(l,t,e)},d(l){l&&c(t)}}}function we($){let t,l=$[1].length+"",e;return{c(){t=D("Sections: "),e=D(l)},l(s){t=v(s,"Sections: "),e=v(s,l)},m(s,n){m(s,t,n),m(s,e,n)},p(s,n){n&2&&l!==(l=s[1].length+"")&&B(e,l)},d(s){s&&c(t),s&&c(e)}}}function de($){let t=$[3]($[1]).distance.toFixed(2)+"",l,e;return{c(){l=D(t),e=D("k")},l(s){l=v(s,t),e=v(s,"k")},m(s,n){m(s,l,n),m(s,e,n)},p(s,n){n&2&&t!==(t=s[3](s[1]).distance.toFixed(2)+"")&&B(l,t)},d(s){s&&c(l),s&&c(e)}}}function ke($){let t,l,e,s,n,a,o,f;return t=new A({props:{$$slots:{default:[ge]},$$scope:{ctx:$}}}),e=new A({props:{$$slots:{default:[we]},$$scope:{ctx:$}}}),n=new A({}),o=new A({props:{numeric:!0,$$slots:{default:[de]},$$scope:{ctx:$}}}),{c(){k(t.$$.fragment),l=S(),k(e.$$.fragment),s=S(),k(n.$$.fragment),a=S(),k(o.$$.fragment)},l(r){b(t.$$.fragment,r),l=T(r),b(e.$$.fragment,r),s=T(r),b(n.$$.fragment,r),a=T(r),b(o.$$.fragment,r)},m(r,i){I(t,r,i),m(r,l,i),I(e,r,i),m(r,s,i),I(n,r,i),m(r,a,i),I(o,r,i),f=!0},p(r,i){const L={};i&1024&&(L.$$scope={dirty:i,ctx:r}),t.$set(L);const w={};i&1026&&(w.$$scope={dirty:i,ctx:r}),e.$set(w);const d={};i&1026&&(d.$$scope={dirty:i,ctx:r}),o.$set(d)},i(r){f||(_(t.$$.fragment,r),_(e.$$.fragment,r),_(n.$$.fragment,r),_(o.$$.fragment,r),f=!0)},o(r){g(t.$$.fragment,r),g(e.$$.fragment,r),g(n.$$.fragment,r),g(o.$$.fragment,r),f=!1},d(r){h(t,r),r&&c(l),h(e,r),r&&c(s),h(n,r),r&&c(a),h(o,r)}}}function be($){let t,l,e,s=!!$[1]&&!!$[0]&&G($);return l=new W({props:{$$slots:{default:[ke]},$$scope:{ctx:$}}}),{c(){s&&s.c(),t=S(),k(l.$$.fragment)},l(n){s&&s.l(n),t=T(n),b(l.$$.fragment,n)},m(n,a){s&&s.m(n,a),m(n,t,a),I(l,n,a),e=!0},p(n,a){!!n[1]&&!!n[0]?s?(s.p(n,a),a&3&&_(s,1)):(s=G(n),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(R(),g(s,1,1,()=>{s=null}),j());const o={};a&1026&&(o.$$scope={dirty:a,ctx:n}),l.$set(o)},i(n){e||(_(s),_(l.$$.fragment,n),e=!0)},o(n){g(s),g(l.$$.fragment,n),e=!1},d(n){s&&s.d(n),n&&c(t),h(l,n)}}}function Ie($){let t,l;return t=new se({props:{$$slots:{default:[be]},$$scope:{ctx:$}}}),{c(){k(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,s){I(t,e,s),l=!0},p(e,s){const n={};s&1027&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){l||(_(t.$$.fragment,e),l=!0)},o(e){g(t.$$.fragment,e),l=!1},d(e){h(t,e)}}}function he($){let t,l=$[0].name+"",e,s,n,a,o;return a=new te({props:{"table$aria-label":"Section list",$$slots:{default:[Ie]},$$scope:{ctx:$}}}),{c(){t=F("h1"),e=D(l),n=S(),k(a.$$.fragment),this.h()},l(f){t=K(f,"H1",{style:!0});var r=P(t);e=v(r,l),r.forEach(c),n=T(f),b(a.$$.fragment,f),this.h()},h(){N(t,"style",s=`color: ${E($[0].userID)}`)},m(f,r){m(f,t,r),V(t,e),m(f,n,r),I(a,f,r),o=!0},p(f,[r]){(!o||r&1)&&l!==(l=f[0].name+"")&&B(e,l),(!o||r&1&&s!==(s=`color: ${E(f[0].userID)}`))&&N(t,"style",s);const i={};r&1027&&(i.$$scope={dirty:r,ctx:f}),a.$set(i)},i(f){o||(_(a.$$.fragment,f),o=!0)},o(f){g(a.$$.fragment,f),o=!1},d(f){f&&c(t),f&&c(n),h(a,f)}}}async function je({params:$,fetch:t}){const l="https://heh5n0uiid.execute-api.eu-west-1.amazonaws.com",e=$.runnerId,s=await t(`${l}/users/${e}`),n=await s.json(),o=await(await t(`${l}/sections`)).json(),f=o.filter(r=>r.users.some(i=>i.userID===n.userID)).sort((r,i)=>parseInt(r.sectionID)-parseInt(i.sectionID));return{status:s.status,props:{user:n,userSections:f,sections:o}}}function De($,t,l){let{user:e}=t,{userSections:s}=t,{sections:n}=t;const a=f=>n.find(L=>L.sectionID===f).users.find(L=>L.userID!==e.userID),o=f=>f.reduce((r,i)=>({distance:r.distance+i.distance}));return $.$$set=f=>{"user"in f&&l(0,e=f.user),"userSections"in f&&l(1,s=f.userSections),"sections"in f&&l(4,n=f.sections)},[e,s,a,o,n]}class Ee extends X{constructor(t){super();Z(this,t,De,he,y,{user:0,userSections:1,sections:4})}}export{Ee as default,je as load};
