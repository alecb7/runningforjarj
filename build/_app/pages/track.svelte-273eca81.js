import{S as z,i as Y,s as F,e as G,t as d,k as T,w as g,c as J,a as K,h,d as c,m as S,x as b,b as O,g as u,Y as P,y as k,q as $,o as _,B as w,v as Q,l as p,n as D,a4 as U,a5 as V,p as E,j as y,ac as W,E as L}from"../chunks/index-f7a6ba17.js";import{D as X,B as Z,R as x,C as B}from"../chunks/index-1a545a3c.js";import{g as ee,L as te}from"../chunks/Button-06e923c9.js";import{u as le}from"../chunks/pace-3c977d72.js";import{h as j}from"../chunks/moment-9ea79f3d.js";import{g as C}from"../chunks/sectionStyles-0e97f438.js";import{g as I}from"../chunks/colours-f9de8a07.js";import"../chunks/index-b107b255.js";import"../chunks/prefixFilter-de33cb53.js";function N(f,l,o){const e=f.slice();return e[5]=l[o],e}function R(f,l,o){const e=f.slice();return e[8]=l[o],e}function q(f){let l=[],o=new Map,e,s,a=f[0];const r=n=>n[5].sectionID;for(let n=0;n<a.length;n+=1){let t=N(f,a,n),i=r(t);o.set(i,l[n]=M(i,t))}return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=p()},l(n){for(let t=0;t<l.length;t+=1)l[t].l(n);e=p()},m(n,t){for(let i=0;i<l.length;i+=1)l[i].m(n,t);u(n,e,t),s=!0},p(n,t){t&13&&(a=n[0],D(),l=U(l,t,r,1,n,a,o,e.parentNode,V,M,e,N),E())},i(n){if(!s){for(let t=0;t<a.length;t+=1)$(l[t]);s=!0}},o(n){for(let t=0;t<l.length;t+=1)_(l[t]);s=!1},d(n){for(let t=0;t<l.length;t+=1)l[t].d(n);n&&c(e)}}}function se(f){let l=f[5].startLocation+"",o,e,s=f[5].endLocation+"",a;return{c(){o=d(l),e=d(" - "),a=d(s)},l(r){o=h(r,l),e=h(r," - "),a=h(r,s)},m(r,n){u(r,o,n),u(r,e,n),u(r,a,n)},p(r,n){n&1&&l!==(l=r[5].startLocation+"")&&y(o,l),n&1&&s!==(s=r[5].endLocation+"")&&y(a,s)},d(r){r&&c(o),r&&c(e),r&&c(a)}}}function re(f){var r,n;let l=((r=f[2](f[5]))==null?void 0:r.format("ddd H:mma"))+"",o,e,s=((n=f[3](f[5]))==null?void 0:n.format("ddd H:mma"))+"",a;return{c(){o=d(l),e=d(" - "),a=d(s)},l(t){o=h(t,l),e=h(t," - "),a=h(t,s)},m(t,i){u(t,o,i),u(t,e,i),u(t,a,i)},p(t,i){var m,v;i&1&&l!==(l=((m=t[2](t[5]))==null?void 0:m.format("ddd H:mma"))+"")&&y(o,l),i&1&&s!==(s=((v=t[3](t[5]))==null?void 0:v.format("ddd H:mma"))+"")&&y(a,s)},d(t){t&&c(o),t&&c(e),t&&c(a)}}}function oe(f){let l,o,e=f[5].users,s=[];for(let r=0;r<e.length;r+=1)s[r]=A(R(f,e,r));const a=r=>_(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();l=p()},l(r){for(let n=0;n<s.length;n+=1)s[n].l(r);l=p()},m(r,n){for(let t=0;t<s.length;t+=1)s[t].m(r,n);u(r,l,n),o=!0},p(r,n){if(n&1){e=r[5].users;let t;for(t=0;t<e.length;t+=1){const i=R(r,e,t);s[t]?(s[t].p(i,n),$(s[t],1)):(s[t]=A(i),s[t].c(),$(s[t],1),s[t].m(l.parentNode,l))}for(D(),t=e.length;t<s.length;t+=1)a(t);E()}},i(r){if(!o){for(let n=0;n<e.length;n+=1)$(s[n]);o=!0}},o(r){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)_(s[n]);o=!1},d(r){W(s,r),r&&c(l)}}}function ne(f){let l;return{c(){l=d("All")},l(o){l=h(o,"All")},m(o,e){u(o,l,e)},p:L,i:L,o:L,d(o){o&&c(l)}}}function ae(f){let l=f[8].name+"",o;return{c(){o=d(l)},l(e){o=h(e,l)},m(e,s){u(e,o,s)},p(e,s){s&1&&l!==(l=e[8].name+"")&&y(o,l)},d(e){e&&c(o)}}}function fe(f){let l,o,e;return l=new te({props:{$$slots:{default:[ae]},$$scope:{ctx:f}}}),{c(){g(l.$$.fragment),o=T()},l(s){b(l.$$.fragment,s),o=S(s)},m(s,a){k(l,s,a),u(s,o,a),e=!0},p(s,a){const r={};a&2049&&(r.$$scope={dirty:a,ctx:s}),l.$set(r)},i(s){e||($(l.$$.fragment,s),e=!0)},o(s){_(l.$$.fragment,s),e=!1},d(s){w(l,s),s&&c(o)}}}function A(f){let l,o;return l=new ee({props:{style:"color: "+I(f[8].userID),disabled:!0,$$slots:{default:[fe]},$$scope:{ctx:f}}}),{c(){g(l.$$.fragment)},l(e){b(l.$$.fragment,e)},m(e,s){k(l,e,s),o=!0},p(e,s){const a={};s&1&&(a.style="color: "+I(e[8].userID)),s&2049&&(a.$$scope={dirty:s,ctx:e}),l.$set(a)},i(e){o||($(l.$$.fragment,e),o=!0)},o(e){_(l.$$.fragment,e),o=!1},d(e){w(l,e)}}}function ie(f){let l,o,e,s;const a=[ne,oe],r=[];function n(t,i){return t[5].sectionID==="21"?0:1}return l=n(f),o=r[l]=a[l](f),{c(){o.c(),e=p()},l(t){o.l(t),e=p()},m(t,i){r[l].m(t,i),u(t,e,i),s=!0},p(t,i){let m=l;l=n(t),l===m?r[l].p(t,i):(D(),_(r[m],1,1,()=>{r[m]=null}),E(),o=r[l],o?o.p(t,i):(o=r[l]=a[l](t),o.c()),$(o,1),o.m(e.parentNode,e))},i(t){s||($(o),s=!0)},o(t){_(o),s=!1},d(t){r[l].d(t),t&&c(e)}}}function ce(f){let l,o,e,s,a,r,n;return l=new B({props:{$$slots:{default:[se]},$$scope:{ctx:f}}}),e=new B({props:{$$slots:{default:[re]},$$scope:{ctx:f}}}),a=new B({props:{$$slots:{default:[ie]},$$scope:{ctx:f}}}),{c(){g(l.$$.fragment),o=T(),g(e.$$.fragment),s=T(),g(a.$$.fragment),r=T()},l(t){b(l.$$.fragment,t),o=S(t),b(e.$$.fragment,t),s=S(t),b(a.$$.fragment,t),r=S(t)},m(t,i){k(l,t,i),u(t,o,i),k(e,t,i),u(t,s,i),k(a,t,i),u(t,r,i),n=!0},p(t,i){const m={};i&2049&&(m.$$scope={dirty:i,ctx:t}),l.$set(m);const v={};i&2049&&(v.$$scope={dirty:i,ctx:t}),e.$set(v);const H={};i&2049&&(H.$$scope={dirty:i,ctx:t}),a.$set(H)},i(t){n||($(l.$$.fragment,t),$(e.$$.fragment,t),$(a.$$.fragment,t),n=!0)},o(t){_(l.$$.fragment,t),_(e.$$.fragment,t),_(a.$$.fragment,t),n=!1},d(t){w(l,t),t&&c(o),w(e,t),t&&c(s),w(a,t),t&&c(r)}}}function M(f,l){let o,e,s;return e=new x({props:{style:`${C(l[5],"start")}`,$$slots:{default:[ce]},$$scope:{ctx:l}}}),{key:f,first:null,c(){o=p(),g(e.$$.fragment),this.h()},l(a){o=p(),b(e.$$.fragment,a),this.h()},h(){this.first=o},m(a,r){u(a,o,r),k(e,a,r),s=!0},p(a,r){l=a;const n={};r&1&&(n.style=`${C(l[5],"start")}`),r&2049&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(a){s||($(e.$$.fragment,a),s=!0)},o(a){_(e.$$.fragment,a),s=!1},d(a){a&&c(o),w(e,a)}}}function ue(f){let l,o,e=!!f[0]&&!!f[1]&&q(f);return{c(){e&&e.c(),l=p()},l(s){e&&e.l(s),l=p()},m(s,a){e&&e.m(s,a),u(s,l,a),o=!0},p(s,a){!!s[0]&&!!s[1]?e?(e.p(s,a),a&3&&$(e,1)):(e=q(s),e.c(),$(e,1),e.m(l.parentNode,l)):e&&(D(),_(e,1,1,()=>{e=null}),E())},i(s){o||($(e),o=!0)},o(s){_(e),o=!1},d(s){e&&e.d(s),s&&c(l)}}}function $e(f){let l,o;return l=new Z({props:{$$slots:{default:[ue]},$$scope:{ctx:f}}}),{c(){g(l.$$.fragment)},l(e){b(l.$$.fragment,e)},m(e,s){k(l,e,s),o=!0},p(e,s){const a={};s&2051&&(a.$$scope={dirty:s,ctx:e}),l.$set(a)},i(e){o||($(l.$$.fragment,e),o=!0)},o(e){_(l.$$.fragment,e),o=!1},d(e){w(l,e)}}}function _e(f){let l,o,e,s,a;return s=new X({props:{"table$aria-label":"Section list",$$slots:{default:[$e]},$$scope:{ctx:f}}}),{c(){l=G("h1"),o=d("Track"),e=T(),g(s.$$.fragment),this.h()},l(r){l=J(r,"H1",{class:!0});var n=K(l);o=h(n,"Track"),n.forEach(c),e=S(r),b(s.$$.fragment,r),this.h()},h(){O(l,"class","svelte-335qjl")},m(r,n){u(r,l,n),P(l,o),u(r,e,n),k(s,r,n),a=!0},p(r,[n]){const t={};n&2051&&(t.$$scope={dirty:n,ctx:r}),s.$set(t)},i(r){a||($(s.$$.fragment,r),a=!0)},o(r){_(s.$$.fragment,r),a=!1},d(r){r&&c(l),r&&c(e),w(s,r)}}}function me(f,l,o){const e="https://heh5n0uiid.execute-api.eu-west-1.amazonaws.com";let s,a;return Q(async()=>{const t=await fetch(`${e}/sections`),i=await fetch(`${e}/users`),m=await t.json();o(1,a=await i.json()),o(0,s=le(m))}),[s,a,t=>t.estimatedStartTime?t.estimatedStartTime:j(t.startTime),t=>t.estimatedEndTime?t.estimatedEndTime:j(t.endTime)]}class Se extends z{constructor(l){super();Y(this,l,me,_e,F,{})}}export{Se as default};
